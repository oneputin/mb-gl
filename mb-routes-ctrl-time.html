<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-slider/paper-slider.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="icons-svg.html">

<!--
`mb-routes-ctrl-time`
slider ctrls to modify timing of animated objects

@demo demo/routemap.html 
-->

<dom-module id="mb-routes-ctrl-time">

    <template>
    
    	<style type="text/css">

	        .ctrlbox {
                background-color: var(--paper-orange-500);
                opacity: 0.5;
                padding: 20px;
                @apply(--layout-vertical);
            }
            
            paper-icon-button.blue {
                --paper-icon-button-ink-color: var(--paper-orange-500);
                background-color: var(--paper-light-blue-500);
                color: white;
                border-radius: 3px;
                padding: 2px;
                margin: 5px; 
            }

    	</style>
	
		<div class="ctrlbox"> 
            
            <div>TimeScale [min/s]</div>
            <paper-slider id="scalectrl" value="{{scalevalue}}" on-change="scaleChangeHandler" min="1" max='10' pin snaps editable></paper-slider>

            <div>Slomo [% of TimeScale]</div>
            <paper-slider id="fpsctrl" value="{{fpsvalue}}" on-change="fpsChangeHandler" min="10" max='100' step='10' pin snaps ></paper-slider>

	    </div>

    </template>

    <script>
        // on-change="fpsChange"
        Polymer({
            is: 'mb-routes-ctrl-time',

            properties: {

                /**
                 * Animation frequency
                 */
                fps: {
                    type: Number,
                    notify: true
                },

                /**
                 * Animation TimeScale
                 */
                timescale: {
                    type: Number,
                    notify: true
                },

            },

            ready: function() {
                this.setupTimeCtrls();
            },

            // 
            fpsChangeHandler: function() {
                var fps = this.fpsMax * this.fpsvalue / 100; //console.log("fps", fps)
                this.fps = fps;
            },

            scaleChangeHandler: function() {
                var timescale = this.scaleMin * this.scalevalue; //console.log("timescale", timescale);
                this.timescale = timescale;
            },

            /**
             * Setup the Ctrl-actions (start/stop, restart, fps-slider) 
             *
             */
            setupTimeCtrls: function() {

                this.fpsMax = 60;
                this.fpsvalue = 100;
                this.fps = this.fpsvalue / this.fpsMax * 100;

                this.scaleMin = 60; // for 1min = 60s  
                this.scalevalue = 5;
                this.timescale = this.scaleMin * this.scalevalue;

                //     
                var fpsSlider = this.$.fpsctrl,
                    scaleSlider = this.$.scalectrl;

                var fpsValue = this.$.fpsvalue,
                    fpsValue = this.$.scalevalue;

            }

        });
    </script>

</dom-module>

</dom-module>