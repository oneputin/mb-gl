<!doctype html>
<html>

<head>
    <title>mb-gl demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">

    <link rel="import" href="../../iron-flex-layout/iron-flex-layout.html">

    <link rel="import" href="../mb-gl.html">

    <link rel="import" href="../../paper-styles/demo-pages.html">

    <style is="custom-style">
        mb-gl {
            width: 50%;
            height: 600px;
        }
        
        .flex-horizontal {
            @apply(--layout-horizontal);
        }
        
        .flexchild {
            @apply(--layout-flex);
            margin-left: 10px;
        }
    </style>

</head>

<body>

    <h1>demo all-in-one map-element with dynamic overlay</h1>

    <template is="dom-bind" id="app">
        
        <div class="container flex-horizontal">

            <mb-gl 
                serviceparams="[[serviceparams]]"
                cbox="{{cbox}}"
                mapapikey="[[mbkey]]"
                mapctrl="[[mapctrl]]"
                slidectrl="[[layerctrl]]" 
                slideinfo="{{slideinfo}}">
            </mb-gl>

            <div class="flexchild">
                <p>KML queried at lngLat=[[cbox]], viewed as json</p>
                <p>[[asstring(slideinfo)]]</p>
            </div>
        
        </div>

    </template>

    <script>
        var scope = document.querySelector('#app');
        scope.serviceparams = {
            slide: "basintree"
        };
        scope.cbox = "13.7,52.4";
        scope.mbkey = "pk.eyJ1Ijoib25lcHV0aW4iLCJhIjoiY2ltbHBidWxhMDAwa3ZubHdpNHMwdmNwMiJ9.XnPbDF8YdaDgfMFAVi9Vyw";
        scope.mapctrl = {};
        scope.layerctrl = {};

        scope.asstring = function(item) {
            var txt = JSON.stringify(item, null, '\n')
                // console.log(txt, item);
            return txt;
        };
    </script>
</body>

</html>